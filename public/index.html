<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Tele AI Chat</title>
  <script src="https://js.paystack.co/v1/inline.js"></script>
 <link rel="stylesheet" href="style.css">
 <script src="https://js.paystack.co/v1/inline.js"></script>
</head>
<body>

<h2>üí¨ Tele AI Chat</h2>

<textarea id="msg" placeholder="Rubuta sakonka..."></textarea>
<button onclick="sendMsg()">Send</button>

<p id="status"></p>
<div id="chat"></div>

<hr>

<div class="upgrade">
  <button onclick="pay(500, 7)">Upgrade ‚Ç¶500 (1 week)</button>
  <button onclick="pay(900, 14)">Upgrade ‚Ç¶900 (2 weeks)</button>
  <button onclick="pay(1500, 30)">Upgrade ‚Ç¶1500 (1 month)</button>
</div>
<script>
function pay(amount, days) {
  const handler = PaystackPop.setup({
    key: "pk_live_SAKA_NAKA_ANAN", // ‚ùó PUBLIC KEY LIVE
    email: "user@teleai.chat",
    amount: amount * 100,
    currency: "NGN",
    callback: function (response) {
      fetch("/verify-payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          reference: response.reference,
          days: days
        })
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          alert("‚úÖ Upgrade successful!");
        } else {
          alert("‚ùå Payment not verified");
        }
      });
    },
    onClose: function () {
      alert("Payment cancelled");
    }
  });

  handler.openIframe();
}
</script>

</body>
</html>
