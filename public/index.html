<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Tele AI Chat</title>
  <script src="https://js.paystack.co/v1/inline.js"></script>
 <link rel="stylesheet" href="style.css">
 <script src="https://js.paystack.co/v1/inline.js"></script>
</head>
<body>

<h2>ğŸ’¬ Tele AI Chat</h2>

<div id="chatBox"></div>

<textarea id="message" placeholder="Rubuta sako..." rows="3"></textarea>
<br>
<button onclick="sendMessage()">Send</button>

<p id="status"></p>

<div id="upgrade">
<button onclick="pay(7)">Upgrade â‚¦500 (1 week)</button>
<button onclick="pay(14)">Upgrade â‚¦900 (2 weeks)</button>
<button onclick="pay(30)">Upgrade â‚¦1500 (1 month)</button>
</div>

<script>
function pay(days) {
  let amount = days === 7 ? 500 : days === 14 ? 900 : 1500;

  let handler = PaystackPop.setup({
    key: "pk_live_193ec0bed7f25a41f8d9ab473ebfdd4d55db13ba", // âš ï¸ LIVE PUBLIC KEY
    email: "user@teleai.chat",
    amount: amount * 100,
    currency: "NGN",
    callback: function (response) {
      fetch("/verify-payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          reference: response.reference,
          days: days
        })
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          alert("âœ… PRO ya kunna na kwanaki " + days);
        } else {
          alert("âŒ Payment verify ya fadi");
        }
      });
    }
  });

  handler.openIframe();
}
</script>

</body>
</html>
