<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tele Tech AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<h3>Tele Tech AI (Text)</h3>

<div id="chat"></div>

<textarea id="msg" placeholder="Type message..."></textarea><br>
<button onclick="send()">Send</button>

<script>
const FREE_LIMIT = 5;
let count = Number(localStorage.getItem("count")||0);

async function send(){
  if(count >= FREE_LIMIT){
    alert("Free limit reached. Upgrade to Pro ðŸš€");
    return;
  }

  const msg = document.getElementById("msg").value;
  if(!msg) return;

  document.getElementById("chat").innerHTML += "<p><b>You:</b> "+msg+"</p>";
  document.getElementById("msg").value = "";

  const r = await fetch("/api/chat",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:msg })
  });

  const d = await r.json();
  document.getElementById("chat").innerHTML += "<p><b>AI:</b> "+d.reply+"</p>";

  count++;
  localStorage.setItem("count", count);
}
</script>

</body>
</html>
